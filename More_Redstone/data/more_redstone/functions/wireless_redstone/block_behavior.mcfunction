# Desc: block behavior
#
# Called by: moreredstone:tick

# set customModelData to cover repeater
execute at @e[type=armor_stand,name="wireless_redstone"] at @e[type=armor_stand,name="wireless_redstone",distance=..0.5] if block ~ ~ ~ repeater[delay=1] run data merge entity @e[limit=1,sort=nearest,name="wireless_redstone",type=armor_stand,distance=..0.5] {ArmorItems:[{},{},{},{id:"minecraft:armor_stand",Count:1b,tag:{CustomModelData:507}}]}
execute at @e[type=armor_stand,name="wireless_redstone"] at @e[type=armor_stand,name="wireless_redstone",distance=..0.5] if block ~ ~ ~ repeater[delay=2] run data merge entity @e[limit=1,sort=nearest,name="wireless_redstone",type=armor_stand,distance=..0.5] {ArmorItems:[{},{},{},{id:"minecraft:armor_stand",Count:1b,tag:{CustomModelData:508}}]}
execute at @e[type=armor_stand,name="wireless_redstone"] at @e[type=armor_stand,name="wireless_redstone",distance=..0.5] if block ~ ~ ~ repeater[delay=3] run data merge entity @e[limit=1,sort=nearest,name="wireless_redstone",type=armor_stand,distance=..0.5] {ArmorItems:[{},{},{},{id:"minecraft:armor_stand",Count:1b,tag:{CustomModelData:509}}]}
execute at @e[type=armor_stand,name="wireless_redstone"] at @e[type=armor_stand,name="wireless_redstone",distance=..0.5] if block ~ ~ ~ repeater[delay=4] run data merge entity @e[limit=1,sort=nearest,name="wireless_redstone",type=armor_stand,distance=..0.5] {ArmorItems:[{},{},{},{id:"minecraft:armor_stand",Count:1b,tag:{CustomModelData:510}}]}
# power all channels if one is powered (north)
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=north,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=north] run setblock ~ ~ ~ repeater[delay=1,facing=north,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=north,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=north] run setblock ~ ~ ~ repeater[delay=1,facing=north,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=north,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=north] run setblock ~ ~ ~ repeater[delay=2,facing=north,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=north,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=north] run setblock ~ ~ ~ repeater[delay=2,facing=north,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=north,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=north] run setblock ~ ~ ~ repeater[delay=3,facing=north,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=north,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=north] run setblock ~ ~ ~ repeater[delay=3,facing=north,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=north,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=north] run setblock ~ ~ ~ repeater[delay=4,facing=north,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=north,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=north] run setblock ~ ~ ~ repeater[delay=4,facing=north,powered=false]
# power all channels if one is powered (east)
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=east,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=east] run setblock ~ ~ ~ repeater[delay=1,facing=east,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=east,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=east] run setblock ~ ~ ~ repeater[delay=1,facing=east,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=east,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=east] run setblock ~ ~ ~ repeater[delay=2,facing=east,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=east,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=east] run setblock ~ ~ ~ repeater[delay=2,facing=east,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=east,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=east] run setblock ~ ~ ~ repeater[delay=3,facing=east,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=east,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=east] run setblock ~ ~ ~ repeater[delay=3,facing=east,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=east,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=east] run setblock ~ ~ ~ repeater[delay=4,facing=east,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=east,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=east] run setblock ~ ~ ~ repeater[delay=4,facing=east,powered=false]
# power all channels if one is powered (south)
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=south,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=south] run setblock ~ ~ ~ repeater[delay=1,facing=south,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=south,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=south] run setblock ~ ~ ~ repeater[delay=1,facing=south,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=south,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=south] run setblock ~ ~ ~ repeater[delay=2,facing=south,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=south,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=south] run setblock ~ ~ ~ repeater[delay=2,facing=south,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=south,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=south] run setblock ~ ~ ~ repeater[delay=3,facing=south,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=south,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=south] run setblock ~ ~ ~ repeater[delay=3,facing=south,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=south,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=south] run setblock ~ ~ ~ repeater[delay=4,facing=south,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=south,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=south] run setblock ~ ~ ~ repeater[delay=4,facing=south,powered=false]
# power all channels if one is powered (west)
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=west,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=west] run setblock ~ ~ ~ repeater[delay=1,facing=west,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=1,facing=west,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=1,facing=west] run setblock ~ ~ ~ repeater[delay=1,facing=west,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=west,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=west] run setblock ~ ~ ~ repeater[delay=2,facing=west,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=2,facing=west,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=2,facing=west] run setblock ~ ~ ~ repeater[delay=2,facing=west,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=west,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=west] run setblock ~ ~ ~ repeater[delay=3,facing=west,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=3,facing=west,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=3,facing=west] run setblock ~ ~ ~ repeater[delay=3,facing=west,powered=false]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=west,powered=true] if block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=west] run setblock ~ ~ ~ repeater[delay=4,facing=west,powered=true]
execute at @e[type=armor_stand,name="wireless_redstone"] if block ~ ~ ~ repeater[delay=4,facing=west,powered=false] unless block ~ ~ ~-1 #more_redstone:power_components run execute at @e[type=armor_stand,name="wireless_redstone",distance=..64] if block ~ ~ ~ repeater[delay=4,facing=west] run setblock ~ ~ ~ repeater[delay=4,facing=west,powered=false]